if("undefined"==typeof jQuery)throw new Error("该插件需要jQuery");+function(n){"use strict";function a(a,r){this.unmarshal=function(){var t=null,o=[],i="[name]:input";return r.unmarshalFile||(i+=":not(:file)"),r.unmarshalDisabled||(i+=":enabled"),r.before(a)&&(t={},a.is(i)&&o.push(a),o.push(a.find(i)),e(o,r,t)),void 0!==r.arrayJoin&&null!==r.arrayJoin&&n.each(t,function(a,e){n.isArray(e)&&(t[a]=e.join(r.arrayJoin))}),r.complete(a,t),t}}function e(a,e,l){n.each(a,function(a,s){s.each(function(a,s){var u=n(s);u.is(":radio")?r(u,e,l):u.is(":checkbox")?t(u,e,l):u.is("select")?o(u,e,l):i(u,e,l)})})}function r(n,a,e){var r=n.attr("name");if(Object.prototype.hasOwnProperty.call(e,r)||("empty"===a.noUnmarshal?e[r]="":"no"!==a.noUnmarshal&&(e[r]=a.noUnmarshal)),n.is(":checked")){if(!a.preHandle(n))return;e[r]=a.postHandle(n,n.val())}}function t(a,e,r){var t=a.attr("name");if(Object.prototype.hasOwnProperty.call(r,t)||("empty"===e.noUnmarshal?r[t]=[]:"no"!==e.noUnmarshal&&(r[t]=e.noUnmarshal)),a.is(":checked")){if(!e.preHandle(a))return;n.isArray(r[t])||(r[t]=[]),r[t].push(e.postHandle(a,a.val()))}}function o(n,a,e){var r=n.attr("name");e[r]=a.postHandle(n,n.val())}function i(a,e,r){var t=a.attr("name");return Object.prototype.hasOwnProperty.call(r,t)?(n.isArray(r[t])||(r[t]=[].concat(r[t])),void r[t].push(e.postHandle(a,a.val()))):void(e.preHandle(a)&&(r[t]=e.postHandle(a,a.val())))}a.DEFAULT_OPTIONS={unmarshalFile:!1,unmarshalDisabled:!1,arrayJoin:void 0,noUnmarshal:null,before:function(n){return!0},preHandle:function(n){return!0},postHandle:function(n,a){return a},complete:function(n,a){}},n.fn.unmarshalForm=function(e){return new a(this,n.extend({},a.DEFAULT_OPTIONS,e)).unmarshal()};var l=n.fn.unmarshalForm;n.fn.noConflict=function(){return n.fn.unmarshalForm=l,this}}(jQuery),+function(n){"use strict";function a(n,a,r){this.marshal=function(){a.before(n,r)&&e(n,a,r),a.complete(n)}}function e(a,e,i){n.each(i,function(i,l){a.find(":input[name='"+i+"']").each(function(a,s){var u=n(s);if(u.is(":radio"))r(u,e,i,l);else if(u.is(":checkbox")){if(void 0!==l&&null!==l)void 0!==e.separator&&null!==e.separator&&(n.isArray(l)||(l=l.split(e.separator)));else{var c=l;l=[],l.push(c)}l=[].concat(l),n.each(l,function(n,a){r(u,e,i,a)})}else if(u.is("select"))t(u,e,i,l);else{if(void 0!==l&&null!==l)void 0!==e.separator&&null!==e.separator&&(n.isArray(l)||(l=l.split(e.separator)));else{var c=l;l=[],l.push(c)}l=[].concat(l),o(u,e,i,l[a])}})})}function r(n,a,e,r){n.val()===r&&a.preHandle(n,e,r)&&(n.prop("checked","checked"),a.postHandle(n))}function t(a,e,r,t){a.is("[multiple]")&&void 0!==e.separator&&null!==e.separator&&(n.isArray(t)||(t=t.split(e.separator))),e.preHandle(a,r,t)&&(t=[].concat(t),n.each(t,function(n,e){a.find("option[value='"+e+"']").prop("selected","selected")}),e.postHandle(a))}function o(n,a,e,r){a.preHandle(n,e,r)&&(n.val(r),a.postHandle(n))}a.DEFAULT_OPTIONS={separator:null,before:function(n,a){return!0},preHandle:function(n,a,e){return!0},postHandle:function(n){},complete:function(n){}},n.fn.marshalForm=function(e,r){return new a(this,n.extend({},a.DEFAULT_OPTIONS,r),e).marshal()};var i=n.fn.marshalForm;n.fn.noConflict=function(){return n.fn.marshalForm=i,this}}(jQuery);